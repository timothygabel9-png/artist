module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},90753,a=>{"use strict";a.i(69387);var b=a.i(60574),c=a.i(20237);async function d(a){let d=await (0,b.getDoc)((0,b.doc)(c.db,"users",a));return d.exists()&&d.data()?.role==="admin"}a.s(["isAdmin",()=>d])},10179,a=>{"use strict";var b=a.i(87924),c=a.i(38246),d=a.i(72131);a.i(30485);var e=a.i(31052),f=a.i(20237),g=a.i(90753);function h(){let[a,h]=(0,d.useState)(""),[i,j]=(0,d.useState)(""),[k,l]=(0,d.useState)(null),[m,n]=(0,d.useState)(!1),[o,p]=(0,d.useState)("");async function q(b){b.preventDefault(),p("");try{let b=await (0,e.signInWithEmailAndPassword)(f.auth,a,i),c=await (0,g.isAdmin)(b.user.uid);n(c),c||p("Logged in, but not marked as admin in Firestore.")}catch(a){p(a?.message||"Login failed.")}}async function r(){await (0,e.signOut)(f.auth)}return(0,d.useEffect)(()=>{let a=(0,e.onAuthStateChanged)(f.auth,async a=>{if(!a){l(null),n(!1);return}l(a.uid),n(await (0,g.isAdmin)(a.uid))});return()=>a()},[]),(0,b.jsxs)("main",{className:"min-h-screen p-8 max-w-xl mx-auto",children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold",children:"Admin Login"}),k?(0,b.jsxs)("div",{className:"mt-6 space-y-3",children:[(0,b.jsxs)("p",{className:"text-sm",children:["Signed in. Admin: ",m?"YES":"NO"]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{className:"px-4 py-2 rounded border",onClick:r,children:"Sign out"}),m&&(0,b.jsx)(c.default,{className:"px-4 py-2 rounded bg-black text-white",href:"/admin/portfolio",children:"Portfolio Upload"})]}),o&&(0,b.jsx)("p",{className:"text-sm",children:o})]}):(0,b.jsxs)("form",{onSubmit:q,className:"mt-6 space-y-3",children:[(0,b.jsx)("input",{className:"w-full border rounded p-2",placeholder:"Email",value:a,onChange:a=>h(a.target.value)}),(0,b.jsx)("input",{className:"w-full border rounded p-2",placeholder:"Password",type:"password",value:i,onChange:a=>j(a.target.value)}),(0,b.jsx)("button",{className:"px-4 py-2 rounded bg-black text-white",type:"submit",children:"Sign in"}),o&&(0,b.jsx)("p",{className:"text-sm",children:o})]})]})}a.s(["default",()=>h])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__2152df79._.js.map